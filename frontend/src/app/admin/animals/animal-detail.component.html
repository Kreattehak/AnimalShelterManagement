<div class="container">
  <form [formGroup]="animalForm" class="form-horizontal" novalidate (ngSubmit)="onSubmit(activeAnimal.id)">
    <fieldset>

      <legend *ngIf="isNewAnimal; else oldAnimalLegend">Add new animal</legend>

      <ng-template #oldAnimalLegend>
        <legend>Animal to be edited: {{ activeAnimal?.firstName }} {{ activeAnimal?.lastName }}</legend>
      </ng-template>

      <div class="form-group">
        <label class="control-label col-lg-2" for="id">Animal ID</label>
        <div class="col-lg-5">
          <input *ngIf="isNewAnimal; else idMessage" class="form-control" id="emptyId" type="text"
                 placeholder="ID will be generated by server" formControlName="id" readonly="true"/>
          <ng-template #idMessage>
            <input class="form-control" id="id" type="text"
                   placeholder="{{ activeAnimal.id }}" formControlName="id" readonly="true"/>
          </ng-template>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="name">Animal Name</label>
        <div class="col-lg-5">
          <input class="form-control" id="name" type="text"
                 placeholder="Animal Name" formControlName="name"/>
        </div>
      </div>

      <div class="form-group">
        <label class="col-md-2 control-label" for="type">Animal Type</label>
        <div class="col-lg-2">
          <select class="form-control" id="type" [(ngModel)]="selectedValue" formControlName="type">
            <option *ngFor="let type of types" [ngValue]="type">{{type}}</option>
          </select>
        </div>
      </div>

      <div class="form-group">
        <div class="col-lg-offset-2 col-lg-1">
          <input type="submit" class="btn btn-primary" *ngIf="isNewAnimal; else oldAnimal" value="Add"
                 [disabled]="!animalForm.valid || submitted"/>
          <ng-template #oldAnimal>
            <input type="submit" class="btn btn-primary" value="Edit" [disabled]="!animalForm.valid || submitted"/>
          </ng-template>
        </div>
        <div class="col-lg-offset-0 col-lg-1">
          <button type="button" class="btn btn-warning" (click)="onBack()">Back</button>
        </div>
      </div>

    </fieldset>
  </form>

  <div *ngIf="formErrors.name || formErrors.type" class="alert alert-danger">
    <p>{{ formErrors.name }}</p>
    <p>{{ formErrors.type }}</p>
  </div>

</div>
